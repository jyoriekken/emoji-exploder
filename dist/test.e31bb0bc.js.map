{"version":3,"sources":["../src/index.js","index.js"],"names":["EmojiExploder","inBrowser","window","x","innerWidth","y","innerHeight","defaultEmoji","emojiLifespan","renderSpeed","addEvents","addEventListener","onPointerMove","bind","e","pageX","pageY","emojiEle","document","createElement","style","textContent","pickEmoji","dataset","drift","Math","random","emojiRef","body","appendChild","animateEmoji","setTimeout","expireEmoji","emoji","setInterval","top","parseInt","left","opacity","removeChild"],"mappings":";;ACAA;;;;AAEAE,MAAM,CAACF,aAAP,GAAuBA,YAAvB;;;;;;;IDFMA;;;AACJ,2BAAc;AAAA;;AACZ,SAAKC,SAAL,GAAiB,CAAC,CAACC,MAAnB;AACA,SAAKC,CAAL,GAASD,MAAM,CAACE,UAAP,GAAoB,CAA7B;AACA,SAAKC,CAAL,GAASH,MAAM,CAACI,WAAP,GAAqB,CAA9B;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,WAAL,GAAmB,OAAO,EAA1B;AACA,SAAKC,SAAL;AACD;;;;gCAEW;AACV,UAAI,CAAC,KAAKT,SAAV,EAAqB;AACrBC,MAAAA,MAAM,CAACS,gBAAP,CAAwB,aAAxB,EAAuC,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAvC;AACD;;;kCAEaC,GAAG;AACf,WAAKX,CAAL,GAASW,CAAC,CAACC,KAAX;AACA,WAAKV,CAAL,GAASS,CAAC,CAACE,KAAX;AACD;;;8BAES;AACR,UAAI,CAAC,KAAKf,SAAV,EAAqB;AAErB,UAAMgB,QAAQ,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAjB;AACAF,MAAAA,QAAQ,CAACG,KAAT,uCAA8C,KAAKjB,CAAnD,sBAAgE,KAAKE,CAArE;AACAY,MAAAA,QAAQ,CAACI,WAAT,GAAuB,KAAKC,SAAL,EAAvB;AACAL,MAAAA,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,GAAyB,CAAC,CAAC,GAAD,GAAOC,IAAI,CAACC,MAAL,EAAR,IAAyB,CAAlD;AACA,UAAMC,QAAQ,GAAGT,QAAQ,CAACU,IAAT,CAAcC,WAAd,CAA0BZ,QAA1B,CAAjB,CAPQ,CASR;;AACA,WAAKa,YAAL,CAAkBH,QAAlB,EAVQ,CAYR;;AACAI,MAAAA,UAAU,CAAC,KAAKC,WAAL,CAAiBnB,IAAjB,CAAsB,IAAtB,EAA4Bc,QAA5B,CAAD,EAAwC,KAAKnB,aAA7C,CAAV;AACD;;;iCAEYyB,OAAO;AAClB,UAAI,CAACA,KAAL,EAAY;AAEZC,MAAAA,WAAW,CAAC,YAAM;AAChBD,QAAAA,KAAK,CAACb,KAAN,CAAYe,GAAZ,aAAqBC,QAAQ,CAACH,KAAK,CAACb,KAAN,CAAYe,GAAb,CAAR,GAA4B,CAAjD;AACAF,QAAAA,KAAK,CAACb,KAAN,CAAYiB,IAAZ,aAAsBD,QAAQ,CAACH,KAAK,CAACb,KAAN,CAAYiB,IAAb,CAAR,GAA6BD,QAAQ,CAACH,KAAK,CAACV,OAAN,CAAcC,KAAf,CAA3D;AACAS,QAAAA,KAAK,CAACb,KAAN,CAAYkB,OAAZ,aAAyBL,KAAK,CAACb,KAAN,CAAYkB,OAAZ,GAAsB,IAA/C;AACD,OAJU,EAIR,KAAK7B,WAJG,CAAX;AAKD;;;gCAEWwB,OAAO;AACjBf,MAAAA,QAAQ,CAACU,IAAT,CAAcW,WAAd,CAA0BN,KAA1B;AACD;;;gCAEW;AACV,aAAO,KAAK1B,YAAZ;AACD;;;;;;eAGYP","file":"test.e31bb0bc.js","sourceRoot":"../test","sourcesContent":["class EmojiExploder {\n  constructor() {\n    this.inBrowser = !!window\n    this.x = window.innerWidth / 2\n    this.y = window.innerHeight / 2\n    this.defaultEmoji = 'ðŸ”¥'\n    this.emojiLifespan = 2000\n    this.renderSpeed = 1000 / 15\n    this.addEvents()\n  }\n\n  addEvents() {\n    if (!this.inBrowser) return\n    window.addEventListener('pointermove', this.onPointerMove.bind(this))\n  }\n\n  onPointerMove(e) {\n    this.x = e.pageX\n    this.y = e.pageY\n  }\n\n  explode() {\n    if (!this.inBrowser) return\n\n    const emojiEle = document.createElement('div')\n    emojiEle.style = `position: absolute; left: ${this.x}px; top: ${this.y}px; opacity: 1`\n    emojiEle.textContent = this.pickEmoji()\n    emojiEle.dataset.drift = (-0.5 + Math.random()) * 4\n    const emojiRef = document.body.appendChild(emojiEle)\n\n    // Animate emoji\n    this.animateEmoji(emojiRef)\n\n    // Expire emoji after lifespan\n    setTimeout(this.expireEmoji.bind(this, emojiRef), this.emojiLifespan)\n  }\n\n  animateEmoji(emoji) {\n    if (!emoji) return\n\n    setInterval(() => {\n      emoji.style.top = `${parseInt(emoji.style.top) + 5}px`\n      emoji.style.left = `${parseInt(emoji.style.left) + parseInt(emoji.dataset.drift)}px`\n      emoji.style.opacity = `${emoji.style.opacity * 0.98}`\n    }, this.renderSpeed)\n  }\n\n  expireEmoji(emoji) {\n    document.body.removeChild(emoji)\n  }\n\n  pickEmoji() {\n    return this.defaultEmoji\n  }\n}\n\nexport default EmojiExploder\n","import EmojiExploder from \"../src\"\n\nwindow.EmojiExploder = EmojiExploder\n"]}