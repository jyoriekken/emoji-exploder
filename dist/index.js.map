{"version":3,"sources":["../src/index.js"],"names":["EmojiExploder","inBrowser","window","x","innerWidth","y","innerHeight","defaultEmoji","emojiLifespan","renderSpeed","addEvents","addEventListener","onPointerMove","bind","e","pageX","pageY","emojiEle","document","createElement","style","textContent","pickEmoji","dataset","drift","Math","random","emojiRef","body","appendChild","animateEmoji","setTimeout","expireEmoji","emoji","setInterval","top","parseInt","left","opacity","removeChild"],"mappings":";AAwDeA,aAAAA,SAAAA,EAAAA,EAAAA,GAAAA,KAAAA,aAAAA,GAAAA,MAAAA,IAAAA,UAAAA,qCAAAA,SAAAA,EAAAA,EAAAA,GAAAA,IAAAA,IAAAA,EAAAA,EAAAA,EAAAA,EAAAA,OAAAA,IAAAA,CAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,WAAAA,EAAAA,aAAAA,EAAAA,EAAAA,cAAAA,EAAAA,UAAAA,IAAAA,EAAAA,UAAAA,GAAAA,OAAAA,eAAAA,EAAAA,EAAAA,IAAAA,IAAAA,SAAAA,EAAAA,EAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,EAAAA,UAAAA,GAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAxDTA,IAAAA,EAwDSA,WAvDC,SAAA,IAAA,EAAA,KAAA,GACPC,KAAAA,YAAcC,OACdC,KAAAA,EAAID,OAAOE,WAAa,EACxBC,KAAAA,EAAIH,OAAOI,YAAc,EACzBC,KAAAA,aAAe,KACfC,KAAAA,cAAgB,IAChBC,KAAAA,YAAc,IAAO,GACrBC,KAAAA,YAgDMV,OAAAA,EAAAA,EAAAA,CAAAA,CAAAA,IAAAA,YA7CD,MAAA,WACL,KAAKC,WACVC,OAAOS,iBAAiB,cAAe,KAAKC,cAAcC,KAAK,SA2CpDb,CAAAA,IAAAA,gBAxCCc,MAAAA,SAAAA,GACPX,KAAAA,EAAIW,EAAEC,MACNV,KAAAA,EAAIS,EAAEE,QAsCAhB,CAAAA,IAAAA,UAnCH,MAAA,WACJ,GAAC,KAAKC,UAAN,CAEEgB,IAAAA,EAAWC,SAASC,cAAc,OACxCF,EAASG,MAAqC,6BAAA,OAAA,KAAKjB,EAAa,aAAA,OAAA,KAAKE,EAArE,kBACAY,EAASI,YAAc,KAAKC,YAC5BL,EAASM,QAAQC,MAAiC,IAAvB,GAAMC,KAAKC,UAChCC,IAAAA,EAAWT,SAASU,KAAKC,YAAYZ,GAGtCa,KAAAA,aAAaH,GAGlBI,WAAW,KAAKC,YAAYnB,KAAK,KAAMc,GAAW,KAAKnB,kBAsB5CR,CAAAA,IAAAA,eAnBAiC,MAAAA,SAAAA,GACNA,GAELC,YAAY,WACVD,EAAMb,MAAMe,IAASC,GAAAA,OAAAA,SAASH,EAAMb,MAAMe,KAAO,EAAjD,MACAF,EAAMb,MAAMiB,KAAUD,GAAAA,OAAAA,SAASH,EAAMb,MAAMiB,MAAQD,SAASH,EAAMV,QAAQC,OAA1E,MACAS,EAAMb,MAAMkB,QAAaL,GAAAA,OAAsB,IAAtBA,EAAMb,MAAMkB,UACpC,KAAK7B,eAYGT,CAAAA,IAAAA,cATDiC,MAAAA,SAAAA,GACVf,SAASU,KAAKW,YAAYN,KAQfjC,CAAAA,IAAAA,YALD,MAAA,WACH,OAAA,KAAKO,iBAIDP,EAAAA,GAAAA,EAAAA,EAAAA,QAAAA,QAAAA","file":"index.js","sourceRoot":"../src","sourcesContent":["class EmojiExploder {\n  constructor() {\n    this.inBrowser = !!window\n    this.x = window.innerWidth / 2\n    this.y = window.innerHeight / 2\n    this.defaultEmoji = 'ðŸ”¥'\n    this.emojiLifespan = 2000\n    this.renderSpeed = 1000 / 15\n    this.addEvents()\n  }\n\n  addEvents() {\n    if (!this.inBrowser) return\n    window.addEventListener('pointermove', this.onPointerMove.bind(this))\n  }\n\n  onPointerMove(e) {\n    this.x = e.pageX\n    this.y = e.pageY\n  }\n\n  explode() {\n    if (!this.inBrowser) return\n\n    const emojiEle = document.createElement('div')\n    emojiEle.style = `position: absolute; left: ${this.x}px; top: ${this.y}px; opacity: 1`\n    emojiEle.textContent = this.pickEmoji()\n    emojiEle.dataset.drift = (-0.5 + Math.random()) * 4\n    const emojiRef = document.body.appendChild(emojiEle)\n\n    // Animate emoji\n    this.animateEmoji(emojiRef)\n\n    // Expire emoji after lifespan\n    setTimeout(this.expireEmoji.bind(this, emojiRef), this.emojiLifespan)\n  }\n\n  animateEmoji(emoji) {\n    if (!emoji) return\n\n    setInterval(() => {\n      emoji.style.top = `${parseInt(emoji.style.top) + 5}px`\n      emoji.style.left = `${parseInt(emoji.style.left) + parseInt(emoji.dataset.drift)}px`\n      emoji.style.opacity = `${emoji.style.opacity * 0.98}`\n    }, this.renderSpeed)\n  }\n\n  expireEmoji(emoji) {\n    document.body.removeChild(emoji)\n  }\n\n  pickEmoji() {\n    return this.defaultEmoji\n  }\n}\n\nexport default EmojiExploder\n"]}